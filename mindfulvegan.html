<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mindful Vegan</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabaseClient.js"></script>
  <link rel="stylesheet" href="mindfulveganstyle.css" />
</head>
<body>


  <div class="top-bar">
    <div class="top-bar-row">
    <div class="backtomainpage" id="backBtn">⬅️</div>
</div>
</div> 

  <div class="page">
    <!-- Anonymous forum -->
    <section class="section" id="forum">
      <h2 onclick="toggleList(this)">Anon Forum 🗨️</h2>
        <div class="section-content">
  <p class="forum-quote">
  <span class="quote-text">
    <em>"That is the best of humanity: When we support each other. Not when we cancel each other out for past mistakes, but when we help each other to grow."</em>
  </span>
  
  <span class="quote-source">
    <a href="https://www.youtube.com/watch?v=WVPw0UrjLuo" target="_blank" rel="noopener noreferrer" class="quote-link">
      — Joaquin Phoenix, Oscars 2020
    </a>
  </span>
  
  <span class="forum-guideline">
    Please share your thoughts kindly and help others grow 🧡
  </span>
</p>

<ul id="forumMessages"></ul>

      <div id="newBlock">
    <textarea id="blockContent" placeholder="Open a topic anonymously..." rows="3"></textarea>
    <button id="submitBlockBtn">Submit</button>
      </div>
      
        </div>
    </section>

    <!-- Popup for comments -->
<div id="commentPopup" class="popup hidden">
  <div class="popup-content">
    <span id="closePopup" class="close">&times;</span>
    <div id="popupBlockContent"></div>
    <ul id="popupCommentsList"></ul>
    <input type="text" id="newCommentInput" placeholder="Write your comment...">
    <button id="submitCommentBtn">Comment</button>
  </div>
</div>



    <section class="section" id="stories">
  <h2 onclick="toggleList(this)">Success Stories 📖</h2>
  <div class="section-content">
    <ul id="veganStories"></ul>

    <form id="storyForm">
      <textarea id="storyInput" placeholder="Share your vegan journey..." required></textarea>
      <button type="submit">Submit Story</button>
    </form>
    <p id="storyMessage"></p>
  </div>
    </section>

    <!-- Buddy system -->
    <section class="section" id="buddy">
  <h2 onclick="toggleList(this)">Buddy System 🤝</h2>

  <div class="section-content">

    <ul id="chatsList"></ul>
    <!-- Chat window -->
    <div id="chatWindow" style="display:none; border:1px solid #ccc; padding:10px; margin-top:10px;">
      <h4 id="chatWith"></h4>
      <div id="chatMessages" style="max-height:200px; overflow-y:auto; border:1px solid #eee; padding:5px; margin-bottom:5px;"></div>
      <input type="text" id="chatInput" placeholder="Type a message..." />
      <button id="sendChatBtn">Send</button>
    </div>

    <!-- Messages for logged-in user -->
    <ul id="messagesList"></ul>

    <p id="ConnectWithAMentor">Connect with someone who has been vegan longer for mentorship.</p>
    
    <!-- Row to display if user is already a mentor -->
<div id="alrdymentor" style="display: none;">
  <p> You are a mentor: </p>
  <img id="alrdyMentorPhoto"  alt="Your photo" style="width:40px;height:40px;border-radius:50%;">
  <span id="alrdyMentorName"></span> – <span id="alrdyMentorYears"></span> years vegan
  <button id="removeMentorBtn">X</button>
</div>

    <!-- Mentor list -->
    <ul id="mentorsList"></ul>

<!-- Apply to be mentor button -->
    <button id="applyMentorBtn">Apply to be a mentor</button>

    
  </div>
</section>

<div class="avatar-row">
    <!-- Eluna -->
<div class="profile-wrapper" onclick="toggleThought('eluna')">
  <img class="avatar" src="characters/eluna.png" alt="Eluna">
  <div class="thought-toggle" >💭</div>
  <div id="elunaThought" class="thought-bubble">
    <span>Eluna</span> is thinking...
    <div id="elunaTip" class="lesson-box"></div>
  </div>
</div>

<!-- Elune -->
<div class="profile-wrapper" onclick="toggleThought('elune')">
  <img class="avatar" src="characters/elune.png" alt="Elune">
  <div class="thought-toggle">💭</div>
  <div id="eluneThought" class="thought-bubble">
    <span>Elune</span> is thinking...
    <div id="eluneTip" class="lesson-box"></div>
  </div>
</div>

<!-- Pet -->
<div class="profile-wrapper" onclick="toggleThought('pet')">
  <div class="avatar" id="petAvatar"></div><!-- Will be replaced by image -->
  <div class="thought-toggle">💭</div>
  <div id="petThought" class="thought-bubble">
    <span id="petName">Pet</span> is thinking...
    <div id="petTip" class="lesson-box"></div>
  </div>
</div>
</div>


  </div>

  <script src="mindfulveganscript.js"></script>
</body>
</html>